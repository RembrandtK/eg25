{"abi":[{"type":"constructor","inputs":[{"name":"_worldId","type":"address","internalType":"contract IWorldID"},{"name":"_appId","type":"string","internalType":"string"},{"name":"_action","type":"string","internalType":"string"},{"name":"_electionManager","type":"address","internalType":"contract IElectionManager"}],"stateMutability":"nonpayable"},{"type":"function","name":"MAX_RANK","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"electionManager","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IElectionManager"}],"stateMutability":"view"},{"type":"function","name":"externalNullifierHash","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getAllRankers","inputs":[],"outputs":[{"name":"","type":"uint256[]","internalType":"uint256[]"}],"stateMutability":"view"},{"type":"function","name":"getNullifierRanking","inputs":[{"name":"nullifierHash","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"tuple[]","internalType":"struct PeerRanking.RankingEntry[]","components":[{"name":"candidateId","type":"uint256","internalType":"uint256"},{"name":"tiedWithPrevious","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getRankingStats","inputs":[],"outputs":[{"name":"totalRankers","type":"uint256","internalType":"uint256"},{"name":"totalComparisons","type":"uint256","internalType":"uint256"},{"name":"candidateCount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getTotalRankers","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"groupId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"nullifierRankings","inputs":[{"name":"","type":"uint256","internalType":"uint256"},{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"candidateId","type":"uint256","internalType":"uint256"},{"name":"tiedWithPrevious","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"rankers","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"updateRanking","inputs":[{"name":"signal","type":"address","internalType":"address"},{"name":"root","type":"uint256","internalType":"uint256"},{"name":"nullifierHash","type":"uint256","internalType":"uint256"},{"name":"proof","type":"uint256[8]","internalType":"uint256[8]"},{"name":"newRanking","type":"tuple[]","internalType":"struct PeerRanking.RankingEntry[]","components":[{"name":"candidateId","type":"uint256","internalType":"uint256"},{"name":"tiedWithPrevious","type":"bool","internalType":"bool"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"worldId","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IWorldID"}],"stateMutability":"view"},{"type":"event","name":"RankingUpdated","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"newRanking","type":"tuple[]","indexed":false,"internalType":"struct PeerRanking.RankingEntry[]","components":[{"name":"candidateId","type":"uint256","internalType":"uint256"},{"name":"tiedWithPrevious","type":"bool","internalType":"bool"}]}],"anonymous":false},{"type":"error","name":"InvalidNullifier","inputs":[]}],"bytecode":{"object":"0x610100604052600160c052348015610015575f5ffd5b5060405161105f38038061105f8339810160408190526100349161017c565b6001600160a01b03808516608052811660e052604051610087906100759061006090869060200161021d565b60408051601f19818403018152919052610094565b8360405160200161006092919061022f565b60a0525061024892505050565b5f6008826040516020016100a8919061021d565b60408051601f198184030181529190528051602090910120901c92915050565b6001600160a01b03811681146100dc575f5ffd5b50565b634e487b7160e01b5f52604160045260245ffd5b5f82601f830112610102575f5ffd5b81516001600160401b0381111561011b5761011b6100df565b604051601f8201601f19908116603f011681016001600160401b0381118282101715610149576101496100df565b604052818152838201602001851015610160575f5ffd5b8160208501602083015e5f918101602001919091529392505050565b5f5f5f5f6080858703121561018f575f5ffd5b845161019a816100c8565b60208601519094506001600160401b038111156101b5575f5ffd5b6101c1878288016100f3565b604087015190945090506001600160401b038111156101de575f5ffd5b6101ea878288016100f3565b92505060608501516101fb816100c8565b939692955090935050565b5f81518060208401855e5f93019283525090919050565b5f6102288284610206565b9392505050565b8281525f6102406020830184610206565b949350505050565b60805160a05160c05160e051610dba6102a55f395f81816101e3015281816102b50152818161055c015261067401525f8181610212015261041f01525f8181610140015261048101525f818161017c01526103ef0152610dba5ff3fe608060405234801561000f575f5ffd5b50600436106100b1575f3560e01c80636a53c3c01161006e5780636a53c3c014610162578063753e9ef0146101775780637ac13aeb146101b65780637da32949146101de5780639e3bcb8d14610205578063a0f44c921461020d575f5ffd5b80630790a627146100b55780631039b995146100db5780632ca37bee146100f0578063442a8ce8146100f857806349cacd891461011b57806359dd06aa1461013b575b5f5ffd5b6100c86100c33660046109c0565b610234565b6040519081526020015b60405180910390f35b6100e3610253565b6040516100d291906109d7565b6002546100c8565b6101006102a9565b604080519384526020840192909252908201526060016100d2565b61012e6101293660046109c0565b61033e565b6040516100d29190610a19565b6100c87f000000000000000000000000000000000000000000000000000000000000000081565b610175610170366004610ad9565b6103be565b005b61019e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100d2565b6101c96101c4366004610bff565b61090c565b604080519283529015156020830152016100d2565b61019e7f000000000000000000000000000000000000000000000000000000000000000081565b6100c85f1981565b6100c87f000000000000000000000000000000000000000000000000000000000000000081565b60028181548110610243575f80fd5b5f91825260209091200154905081565b6060600280548060200260200160405190810160405280929190818152602001828054801561029f57602002820191905f5260205f20905b81548152602001906001019080831161028b575b5050505050905090565b5f5f5f6002805490505f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663a9a981a36040518163ffffffff1660e01b8152600401602060405180830381865afa15801561030f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103339190610c1f565b925092509250909192565b606060015f8381526020019081526020015f20805480602002602001604051908101604052809291908181526020015f905b828210156103b3575f84815260209081902060408051808201909152600285029091018054825260019081015460ff161515828401529083529092019101610370565b505050509050919050565b5f8381526020819052604090205460ff16156103ed57604051632ec8265960e11b815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316633bc778e3857f000000000000000000000000000000000000000000000000000000000000000061047e8960405160200161046a919060609190911b6bffffffffffffffffffffffff1916815260140190565b604051602081830303815290604052610947565b877f0000000000000000000000000000000000000000000000000000000000000000886040518763ffffffff1660e01b81526004016104c296959493929190610c36565b5f6040518083038186803b1580156104d8575f5ffd5b505afa1580156104ea573d5f5f3e3d5ffd5b5050505f848152602081905260409020805460ff191660011790555080516105595760405162461bcd60e51b815260206004820152601760248201527f52616e6b696e672063616e6e6f7420626520656d70747900000000000000000060448201526064015b60405180910390fd5b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663a9a981a36040518163ffffffff1660e01b8152600401602060405180830381865afa1580156105b6573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105da9190610c1f565b90505f5b82518110156107fb575f8382815181106105fa576105fa610c6d565b60200260200101515f015111801561062e57508183828151811061062057610620610c6d565b60200260200101515f015111155b6106715760405162461bcd60e51b8152602060048201526014602482015273125b9d985b1a590818d85b991a59185d1948125160621b6044820152606401610550565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316633477ee2e8584815181106106b3576106b3610c6d565b60200260200101515f01516040518263ffffffff1660e01b81526004016106dc91815260200190565b5f60405180830381865afa1580156106f6573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f1916820160405261071d9190810190610ced565b93505050508061076f5760405162461bcd60e51b815260206004820152601760248201527f43616e646964617465206973206e6f74206163746976650000000000000000006044820152606401610550565b815f036107f25783828151811061078857610788610c6d565b602002602001015160200151156107f25760405162461bcd60e51b815260206004820152602860248201527f466972737420656e7472792063616e6e6f74206265207469656420776974682060448201526770726576696f757360c01b6064820152608401610550565b506001016105de565b505f84815260016020526040812080541591610817919061097b565b5f5b8351811015610886575f868152600160205260409020845185908390811061084357610843610c6d565b6020908102919091018101518254600180820185555f948552938390208251600290920201908155910151908201805460ff191691151591909117905501610819565b5080156108c257600280546001810182555f919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace018590555b336001600160a01b03167f55a1980c493f0b0944a366b05eb4cf30f8c51a97de5be737c2fc5d7ac14f4705846040516108fb9190610a19565b60405180910390a250505050505050565b6001602052815f5260405f208181548110610925575f80fd5b5f9182526020909120600290910201805460019091015490925060ff16905082565b5f60088260405160200161095b9190610d6e565b60408051601f198184030181529190528051602090910120901c92915050565b5080545f8255600202905f5260205f2090810190610999919061099c565b50565b5b808211156109bc575f815560018101805460ff1916905560020161099d565b5090565b5f602082840312156109d0575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610a0e5783518352602093840193909201916001016109f0565b509095945050505050565b602080825282518282018190525f918401906040840190835b81811015610a0e5783518051845260209081015115158185015290930192604090920191600101610a32565b634e487b7160e01b5f52604160045260245ffd5b6040805190810167ffffffffffffffff81118282101715610a9557610a95610a5e565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610ac457610ac4610a5e565b604052919050565b8015158114610999575f5ffd5b5f5f5f5f5f6101808688031215610aee575f5ffd5b85356001600160a01b0381168114610b04575f5ffd5b94506020860135935060408601359250610160860187811115610b25575f5ffd5b6060870192503567ffffffffffffffff811115610b40575f5ffd5b8601601f81018813610b50575f5ffd5b803567ffffffffffffffff811115610b6a57610b6a610a5e565b610b7960208260051b01610a9b565b8082825260208201915060208360061b85010192508a831115610b9a575f5ffd5b6020840193505b82841015610bee576040848c031215610bb8575f5ffd5b610bc0610a72565b843581526020850135610bd281610acc565b8060208301525080835250602082019150604084019350610ba1565b809450505050509295509295909350565b5f5f60408385031215610c10575f5ffd5b50508035926020909101359150565b5f60208284031215610c2f575f5ffd5b5051919050565b5f6101a0820190508782528660208301528560408301528460608301528360808301526101008360a0840137979650505050505050565b634e487b7160e01b5f52603260045260245ffd5b5f82601f830112610c90575f5ffd5b815167ffffffffffffffff811115610caa57610caa610a5e565b610cbd601f8201601f1916602001610a9b565b818152846020838601011115610cd1575f5ffd5b8160208501602083015e5f918101602001919091529392505050565b5f5f5f5f60808587031215610d00575f5ffd5b8451602086015190945067ffffffffffffffff811115610d1e575f5ffd5b610d2a87828801610c81565b935050604085015167ffffffffffffffff811115610d46575f5ffd5b610d5287828801610c81565b9250506060850151610d6381610acc565b939692955090935050565b5f82518060208501845e5f92019182525091905056fea2646970667358221220e65819a26055faa957c528b9751644e6d9822aeb09e076e25f96c5b5e9d40dd264736f6c634300081b0033","sourceMap":"599:5639:3:-:0;;;1164:1;1129:36;;2588:367;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;2747:18:3;;;;;2775:34;;;;2873:24;;2843:105;;2873:38;;:24;;2890:6;;2873:24;;;:::i;:::-;;;;-1:-1:-1;;2873:24:3;;;;;;;;;:36;:38::i;:::-;2913:7;2843:78;;;;;;;;;:::i;:105::-;2819:129;;-1:-1:-1;599:5639:3;;-1:-1:-1;;;599:5639:3;450:145;514:7;587:1;575:5;558:23;;;;;;;;:::i;:::-;;;;-1:-1:-1;;558:23:3;;;;;;;;;548:34;;558:23;548:34;;;;540:48;;;450:145;-1:-1:-1;;450:145:3:o;14:141:26:-;-1:-1:-1;;;;;99:31:26;;89:42;;79:70;;145:1;142;135:12;79:70;14:141;:::o;160:127::-;221:10;216:3;212:20;209:1;202:31;252:4;249:1;242:15;276:4;273:1;266:15;292:723;346:5;399:3;392:4;384:6;380:17;376:27;366:55;;417:1;414;407:12;366:55;444:13;;-1:-1:-1;;;;;469:30:26;;466:56;;;502:18;;:::i;:::-;551:2;545:9;643:2;605:17;;-1:-1:-1;;601:31:26;;;634:2;597:40;593:54;581:67;;-1:-1:-1;;;;;663:34:26;;699:22;;;660:62;657:88;;;725:18;;:::i;:::-;761:2;754:22;785;;;826:19;;;847:4;822:30;819:39;-1:-1:-1;816:59:26;;;871:1;868;861:12;816:59;928:6;921:4;913:6;909:17;902:4;894:6;890:17;884:51;983:1;955:19;;;976:4;951:30;944:41;;;;959:6;292:723;-1:-1:-1;;;292:723:26:o;1020:881::-;1178:6;1186;1194;1202;1255:3;1243:9;1234:7;1230:23;1226:33;1223:53;;;1272:1;1269;1262:12;1223:53;1304:9;1298:16;1323:41;1358:5;1323:41;:::i;:::-;1432:2;1417:18;;1411:25;1383:5;;-1:-1:-1;;;;;;1448:30:26;;1445:50;;;1491:1;1488;1481:12;1445:50;1514:61;1567:7;1558:6;1547:9;1543:22;1514:61;:::i;:::-;1621:2;1606:18;;1600:25;1504:71;;-1:-1:-1;1600:25:26;-1:-1:-1;;;;;;1637:32:26;;1634:52;;;1682:1;1679;1672:12;1634:52;1705:63;1760:7;1749:8;1738:9;1734:24;1705:63;:::i;:::-;1695:73;;;1813:2;1802:9;1798:18;1792:25;1826:43;1861:7;1826:43;:::i;:::-;1020:881;;;;-1:-1:-1;1020:881:26;;-1:-1:-1;;1020:881:26:o;1906:212::-;1948:3;1986:5;1980:12;2030:6;2023:4;2016:5;2012:16;2007:3;2001:36;2092:1;2056:16;;2081:13;;;-1:-1:-1;2056:16:26;;1906:212;-1:-1:-1;1906:212:26:o;2123:192::-;2254:3;2279:30;2305:3;2297:6;2279:30;:::i;:::-;2272:37;2123:192;-1:-1:-1;;;2123:192:26:o;2320:257::-;2509:6;2504:3;2497:19;2479:3;2532:39;2567:2;2562:3;2558:12;2550:6;2532:39;:::i;:::-;2525:46;2320:257;-1:-1:-1;;;;2320:257:26:o;2582:190::-;599:5639:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f5ffd5b50600436106100b1575f3560e01c80636a53c3c01161006e5780636a53c3c014610162578063753e9ef0146101775780637ac13aeb146101b65780637da32949146101de5780639e3bcb8d14610205578063a0f44c921461020d575f5ffd5b80630790a627146100b55780631039b995146100db5780632ca37bee146100f0578063442a8ce8146100f857806349cacd891461011b57806359dd06aa1461013b575b5f5ffd5b6100c86100c33660046109c0565b610234565b6040519081526020015b60405180910390f35b6100e3610253565b6040516100d291906109d7565b6002546100c8565b6101006102a9565b604080519384526020840192909252908201526060016100d2565b61012e6101293660046109c0565b61033e565b6040516100d29190610a19565b6100c87f000000000000000000000000000000000000000000000000000000000000000081565b610175610170366004610ad9565b6103be565b005b61019e7f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100d2565b6101c96101c4366004610bff565b61090c565b604080519283529015156020830152016100d2565b61019e7f000000000000000000000000000000000000000000000000000000000000000081565b6100c85f1981565b6100c87f000000000000000000000000000000000000000000000000000000000000000081565b60028181548110610243575f80fd5b5f91825260209091200154905081565b6060600280548060200260200160405190810160405280929190818152602001828054801561029f57602002820191905f5260205f20905b81548152602001906001019080831161028b575b5050505050905090565b5f5f5f6002805490505f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663a9a981a36040518163ffffffff1660e01b8152600401602060405180830381865afa15801561030f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103339190610c1f565b925092509250909192565b606060015f8381526020019081526020015f20805480602002602001604051908101604052809291908181526020015f905b828210156103b3575f84815260209081902060408051808201909152600285029091018054825260019081015460ff161515828401529083529092019101610370565b505050509050919050565b5f8381526020819052604090205460ff16156103ed57604051632ec8265960e11b815260040160405180910390fd5b7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316633bc778e3857f000000000000000000000000000000000000000000000000000000000000000061047e8960405160200161046a919060609190911b6bffffffffffffffffffffffff1916815260140190565b604051602081830303815290604052610947565b877f0000000000000000000000000000000000000000000000000000000000000000886040518763ffffffff1660e01b81526004016104c296959493929190610c36565b5f6040518083038186803b1580156104d8575f5ffd5b505afa1580156104ea573d5f5f3e3d5ffd5b5050505f848152602081905260409020805460ff191660011790555080516105595760405162461bcd60e51b815260206004820152601760248201527f52616e6b696e672063616e6e6f7420626520656d70747900000000000000000060448201526064015b60405180910390fd5b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663a9a981a36040518163ffffffff1660e01b8152600401602060405180830381865afa1580156105b6573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105da9190610c1f565b90505f5b82518110156107fb575f8382815181106105fa576105fa610c6d565b60200260200101515f015111801561062e57508183828151811061062057610620610c6d565b60200260200101515f015111155b6106715760405162461bcd60e51b8152602060048201526014602482015273125b9d985b1a590818d85b991a59185d1948125160621b6044820152606401610550565b5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316633477ee2e8584815181106106b3576106b3610c6d565b60200260200101515f01516040518263ffffffff1660e01b81526004016106dc91815260200190565b5f60405180830381865afa1580156106f6573d5f5f3e3d5ffd5b505050506040513d5f823e601f3d908101601f1916820160405261071d9190810190610ced565b93505050508061076f5760405162461bcd60e51b815260206004820152601760248201527f43616e646964617465206973206e6f74206163746976650000000000000000006044820152606401610550565b815f036107f25783828151811061078857610788610c6d565b602002602001015160200151156107f25760405162461bcd60e51b815260206004820152602860248201527f466972737420656e7472792063616e6e6f74206265207469656420776974682060448201526770726576696f757360c01b6064820152608401610550565b506001016105de565b505f84815260016020526040812080541591610817919061097b565b5f5b8351811015610886575f868152600160205260409020845185908390811061084357610843610c6d565b6020908102919091018101518254600180820185555f948552938390208251600290920201908155910151908201805460ff191691151591909117905501610819565b5080156108c257600280546001810182555f919091527f405787fa12a823e0f2b7631cc41b3ba8828b3321ca811111fa75cd3aa3bb5ace018590555b336001600160a01b03167f55a1980c493f0b0944a366b05eb4cf30f8c51a97de5be737c2fc5d7ac14f4705846040516108fb9190610a19565b60405180910390a250505050505050565b6001602052815f5260405f208181548110610925575f80fd5b5f9182526020909120600290910201805460019091015490925060ff16905082565b5f60088260405160200161095b9190610d6e565b60408051601f198184030181529190528051602090910120901c92915050565b5080545f8255600202905f5260205f2090810190610999919061099c565b50565b5b808211156109bc575f815560018101805460ff1916905560020161099d565b5090565b5f602082840312156109d0575f5ffd5b5035919050565b602080825282518282018190525f918401906040840190835b81811015610a0e5783518352602093840193909201916001016109f0565b509095945050505050565b602080825282518282018190525f918401906040840190835b81811015610a0e5783518051845260209081015115158185015290930192604090920191600101610a32565b634e487b7160e01b5f52604160045260245ffd5b6040805190810167ffffffffffffffff81118282101715610a9557610a95610a5e565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610ac457610ac4610a5e565b604052919050565b8015158114610999575f5ffd5b5f5f5f5f5f6101808688031215610aee575f5ffd5b85356001600160a01b0381168114610b04575f5ffd5b94506020860135935060408601359250610160860187811115610b25575f5ffd5b6060870192503567ffffffffffffffff811115610b40575f5ffd5b8601601f81018813610b50575f5ffd5b803567ffffffffffffffff811115610b6a57610b6a610a5e565b610b7960208260051b01610a9b565b8082825260208201915060208360061b85010192508a831115610b9a575f5ffd5b6020840193505b82841015610bee576040848c031215610bb8575f5ffd5b610bc0610a72565b843581526020850135610bd281610acc565b8060208301525080835250602082019150604084019350610ba1565b809450505050509295509295909350565b5f5f60408385031215610c10575f5ffd5b50508035926020909101359150565b5f60208284031215610c2f575f5ffd5b5051919050565b5f6101a0820190508782528660208301528560408301528460608301528360808301526101008360a0840137979650505050505050565b634e487b7160e01b5f52603260045260245ffd5b5f82601f830112610c90575f5ffd5b815167ffffffffffffffff811115610caa57610caa610a5e565b610cbd601f8201601f1916602001610a9b565b818152846020838601011115610cd1575f5ffd5b8160208501602083015e5f918101602001919091529392505050565b5f5f5f5f60808587031215610d00575f5ffd5b8451602086015190945067ffffffffffffffff811115610d1e575f5ffd5b610d2a87828801610c81565b935050604085015167ffffffffffffffff811115610d46575f5ffd5b610d5287828801610c81565b9250506060850151610d6381610acc565b939692955090935050565b5f82518060208501845e5f92019182525091905056fea2646970667358221220e65819a26055faa957c528b9751644e6d9822aeb09e076e25f96c5b5e9d40dd264736f6c634300081b0033","sourceMap":"599:5639:3:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2148:24;;;;;;:::i;:::-;;:::i;:::-;;;391:25:26;;;379:2;364:18;2148:24:3;;;;;;;;5904:97;;;:::i;:::-;;;;;;;:::i;5801:::-;5877:7;:14;5801:97;;6007:229;;;:::i;:::-;;;;1245:25:26;;;1301:2;1286:18;;1279:34;;;;1329:18;;;1322:34;1233:2;1218:18;6007:229:3;1043:319:26;5612:154:3;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;1020:46::-;;;;;3511:2064;;;;;;:::i;:::-;;:::i;:::-;;846:33;;;;;;;;-1:-1:-1;;;;;4985:32:26;;;4967:51;;4955:2;4940:18;846:33:3;4803:221:26;2041:59:3;;;;;;:::i;:::-;;:::i;:::-;;;;5548:25:26;;;5616:14;;5609:22;5604:2;5589:18;;5582:50;5521:18;2041:59:3;5380:258:26;1359:49:3;;;;;1455:52;;-1:-1:-1;;1455:52:3;;1129:36;;;;;2148:24;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;2148:24:3;:::o;5904:97::-;5952:16;5987:7;5980:14;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5904:97;:::o;6007:229::-;6066:20;6096:24;6130:22;6177:7;:14;;;;6193:1;6196:15;-1:-1:-1;;;;;6196:30:3;;:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;6169:60;;;;;;6007:229;;;:::o;5612:154::-;5687:21;5727:17;:32;5745:13;5727:32;;;;;;;;;;;5720:39;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5612:154;;;:::o;3511:2064::-;3784:15;:30;;;;;;;;;;;;;3780:61;;;3823:18;;-1:-1:-1;;;3823:18:3;;;;;;;;;;;3780:61;3942:7;-1:-1:-1;;;;;3942:19:3;;3975:4;3993:7;4047:38;4064:6;4047:24;;;;;;;6258:2:26;6254:15;;;;-1:-1:-1;;6250:53:26;6238:66;;6329:2;6320:12;;6109:229;4047:24:3;;;;;;;;;;;;;:36;:38::i;:::-;4099:13;4126:21;4161:5;3942:234;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;4281:15:3;:30;;;;;;;;;;:37;;-1:-1:-1;;4281:37:3;4314:4;4281:37;;;-1:-1:-1;4336:17:3;;4328:57;;;;-1:-1:-1;;;4328:57:3;;7147:2:26;4328:57:3;;;7129:21:26;7186:2;7166:18;;;7159:30;7225:25;7205:18;;;7198:53;7268:18;;4328:57:3;;;;;;;;;4448:22;4473:15;-1:-1:-1;;;;;4473:30:3;;:32;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;4448:57;-1:-1:-1;4520:9:3;4515:568;4539:10;:17;4535:1;:21;4515:568;;;4613:1;4585:10;4596:1;4585:13;;;;;;;;:::i;:::-;;;;;;;:25;;;:29;:76;;;;;4647:14;4618:10;4629:1;4618:13;;;;;;;;:::i;:::-;;;;;;;:25;;;:43;;4585:76;4577:109;;;;-1:-1:-1;;;4577:109:3;;7631:2:26;4577:109:3;;;7613:21:26;7670:2;7650:18;;;7643:30;-1:-1:-1;;;7689:18:26;;;7682:50;7749:18;;4577:109:3;7429:344:26;4577:109:3;4749:11;4764:15;-1:-1:-1;;;;;4764:26:3;;4791:10;4802:1;4791:13;;;;;;;;:::i;:::-;;;;;;;:25;;;4764:53;;;;;;;;;;;;;391:25:26;;379:2;364:18;;245:177;4764:53:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;4764:53:3;;;;;;;;;;;;:::i;:::-;4742:75;;;;;4839:6;4831:42;;;;-1:-1:-1;;;4831:42:3;;9339:2:26;4831:42:3;;;9321:21:26;9378:2;9358:18;;;9351:30;9417:25;9397:18;;;9390:53;9460:18;;4831:42:3;9137:347:26;4831:42:3;4948:1;4953;4948:6;4944:129;;4983:10;4994:1;4983:13;;;;;;;;:::i;:::-;;;;;;;:30;;;4982:31;4974:84;;;;-1:-1:-1;;;4974:84:3;;9691:2:26;4974:84:3;;;9673:21:26;9730:2;9710:18;;;9703:30;9769:34;9749:18;;;9742:62;-1:-1:-1;;;9820:18:26;;;9813:38;9868:19;;4974:84:3;9489:404:26;4974:84:3;-1:-1:-1;4558:3:3;;4515:568;;;-1:-1:-1;5160:16:3;5179:32;;;:17;:32;;;;;:39;;:44;;5234:39;;5179:32;5234:39;:::i;:::-;5288:9;5283:125;5307:10;:17;5303:1;:21;5283:125;;;5345:32;;;;:17;:32;;;;;5383:13;;:10;;5394:1;;5383:13;;;;;;:::i;:::-;;;;;;;;;;;;5345:52;;;;;;;;-1:-1:-1;5345:52:3;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;5345:52:3;;;;;;;;;;5326:3;5283:125;;;;5450:11;5446:69;;;5477:7;:27;;;;;;;-1:-1:-1;5477:27:3;;;;;;;;;5446:69;5545:10;-1:-1:-1;;;;;5530:38:3;;5557:10;5530:38;;;;;;:::i;:::-;;;;;;;;3703:1872;;3511:2064;;;;;:::o;2041:59::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;2041:59:3;;;-1:-1:-1;2041:59:3;:::o;450:145::-;514:7;587:1;575:5;558:23;;;;;;;;:::i;:::-;;;;-1:-1:-1;;558:23:3;;;;;;;;;548:34;;558:23;548:34;;;;540:48;;;450:145;-1:-1:-1;;450:145:3:o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;14:226:26:-;73:6;126:2;114:9;105:7;101:23;97:32;94:52;;;142:1;139;132:12;94:52;-1:-1:-1;187:23:26;;14:226;-1:-1:-1;14:226:26:o;427:611::-;617:2;629:21;;;699:13;;602:18;;;721:22;;;569:4;;800:15;;;774:2;759:18;;;569:4;843:169;857:6;854:1;851:13;843:169;;;918:13;;906:26;;961:2;987:15;;;;952:12;;;;879:1;872:9;843:169;;;-1:-1:-1;1029:3:26;;427:611;-1:-1:-1;;;;;427:611:26:o;1367:770::-;1615:2;1627:21;;;1697:13;;1600:18;;;1719:22;;;1567:4;;1798:15;;;1772:2;1757:18;;;1567:4;1841:270;1855:6;1852:1;1849:13;1841:270;;;1914:13;;1952:9;;1940:22;;2024:2;2016:11;;;2010:18;2003:26;1996:34;1982:12;;;1975:56;2086:15;;;;2060:2;2051:12;;;;1877:1;1870:9;1841:270;;2142:127;2203:10;2198:3;2194:20;2191:1;2184:31;2234:4;2231:1;2224:15;2258:4;2255:1;2248:15;2274:251;2346:2;2340:9;;;2376:15;;2421:18;2406:34;;2442:22;;;2403:62;2400:88;;;2468:18;;:::i;:::-;2504:2;2497:22;2274:251;:::o;2530:275::-;2601:2;2595:9;2666:2;2647:13;;-1:-1:-1;;2643:27:26;2631:40;;2701:18;2686:34;;2722:22;;;2683:62;2680:88;;;2748:18;;:::i;:::-;2784:2;2777:22;2530:275;;-1:-1:-1;2530:275:26:o;2810:118::-;2896:5;2889:13;2882:21;2875:5;2872:32;2862:60;;2918:1;2915;2908:12;2933:1865;3107:6;3115;3123;3131;3139;3192:3;3180:9;3171:7;3167:23;3163:33;3160:53;;;3209:1;3206;3199:12;3160:53;3235:23;;-1:-1:-1;;;;;3287:31:26;;3277:42;;3267:70;;3333:1;3330;3323:12;3267:70;3356:5;-1:-1:-1;3434:2:26;3419:18;;3406:32;;-1:-1:-1;3537:2:26;3522:18;;3509:32;;-1:-1:-1;3601:3:26;3586:19;;3617:15;;;3614:35;;;3645:1;3642;3635:12;3614:35;3683:2;3668:18;;;-1:-1:-1;3709:16:26;3748:18;3737:30;;3734:50;;;3780:1;3777;3770:12;3734:50;3803:22;;3856:4;3848:13;;3844:27;-1:-1:-1;3834:55:26;;3885:1;3882;3875:12;3834:55;3925:2;3912:16;3951:18;3943:6;3940:30;3937:56;;;3973:18;;:::i;:::-;4013:40;4049:2;4040:6;4037:1;4033:14;4029:23;4013:40;:::i;:::-;4075:3;4099:6;4094:3;4087:19;4131:2;4126:3;4122:12;4115:19;;4186:2;4176:6;4173:1;4169:14;4165:2;4161:23;4157:32;4143:46;;4212:7;4204:6;4201:19;4198:39;;;4233:1;4230;4223:12;4198:39;4265:2;4261;4257:11;4246:22;;4277:491;4293:6;4288:3;4285:15;4277:491;;;4373:2;4367:3;4358:7;4354:17;4350:26;4347:46;;;4389:1;4386;4379:12;4347:46;4421:22;;:::i;:::-;4496:17;;4526:24;;4600:2;4591:12;;4578:26;4617:30;4578:26;4617:30;:::i;:::-;4685:7;4680:2;4671:7;4667:16;4660:33;;4718:7;4713:3;4706:20;;4755:2;4750:3;4746:12;4739:19;;4319:2;4314:3;4310:12;4303:19;;4277:491;;;4787:5;4777:15;;;;;;2933:1865;;;;;;;;:::o;5029:346::-;5097:6;5105;5158:2;5146:9;5137:7;5133:23;5129:32;5126:52;;;5174:1;5171;5164:12;5126:52;-1:-1:-1;;5219:23:26;;;5339:2;5324:18;;;5311:32;;-1:-1:-1;5029:346:26:o;5874:230::-;5944:6;5997:2;5985:9;5976:7;5972:23;5968:32;5965:52;;;6013:1;6010;6003:12;5965:52;-1:-1:-1;6058:16:26;;5874:230;-1:-1:-1;5874:230:26:o;6343:597::-;6623:4;6665:3;6654:9;6650:19;6642:27;;6696:6;6685:9;6678:25;6739:6;6734:2;6723:9;6719:18;6712:34;6782:6;6777:2;6766:9;6762:18;6755:34;6825:6;6820:2;6809:9;6805:18;6798:34;6869:6;6863:3;6852:9;6848:19;6841:35;6927:6;6919;6913:3;6902:9;6898:19;6885:49;6343:597;;;;;;;;;:::o;7297:127::-;7358:10;7353:3;7349:20;7346:1;7339:31;7389:4;7386:1;7379:15;7413:4;7410:1;7403:15;7778:556;7832:5;7885:3;7878:4;7870:6;7866:17;7862:27;7852:55;;7903:1;7900;7893:12;7852:55;7936:6;7930:13;7966:18;7958:6;7955:30;7952:56;;;7988:18;;:::i;:::-;8032:59;8079:2;8056:17;;-1:-1:-1;;8052:31:26;8085:4;8048:42;8032:59;:::i;:::-;8116:6;8107:7;8100:23;8170:3;8163:4;8154:6;8146;8142:19;8138:30;8135:39;8132:59;;;8187:1;8184;8177:12;8132:59;8245:6;8238:4;8230:6;8226:17;8219:4;8210:7;8206:18;8200:52;8301:1;8272:20;;;8294:4;8268:31;8261:42;;;;8276:7;7778:556;-1:-1:-1;;;7778:556:26:o;8339:793::-;8453:6;8461;8469;8477;8530:3;8518:9;8509:7;8505:23;8501:33;8498:53;;;8547:1;8544;8537:12;8498:53;8592:16;;8676:2;8661:18;;8655:25;8592:16;;-1:-1:-1;8703:18:26;8692:30;;8689:50;;;8735:1;8732;8725:12;8689:50;8758:61;8811:7;8802:6;8791:9;8787:22;8758:61;:::i;:::-;8748:71;;;8865:2;8854:9;8850:18;8844:25;8894:18;8884:8;8881:32;8878:52;;;8926:1;8923;8916:12;8878:52;8949:63;9004:7;8993:8;8982:9;8978:24;8949:63;:::i;:::-;8939:73;;;9057:2;9046:9;9042:18;9036:25;9070:30;9092:7;9070:30;:::i;:::-;8339:793;;;;-1:-1:-1;8339:793:26;;-1:-1:-1;;8339:793:26:o;9898:301::-;10027:3;10065:6;10059:13;10111:6;10104:4;10096:6;10092:17;10087:3;10081:37;10173:1;10137:16;;10162:13;;;-1:-1:-1;10137:16:26;9898:301;-1:-1:-1;9898:301:26:o","linkReferences":{},"immutableReferences":{"490":[{"start":380,"length":32},{"start":1007,"length":32}],"493":[{"start":320,"length":32},{"start":1153,"length":32}],"497":[{"start":530,"length":32},{"start":1055,"length":32}],"505":[{"start":483,"length":32},{"start":693,"length":32},{"start":1372,"length":32},{"start":1652,"length":32}]}},"methodIdentifiers":{"MAX_RANK()":"9e3bcb8d","electionManager()":"7da32949","externalNullifierHash()":"59dd06aa","getAllRankers()":"1039b995","getNullifierRanking(uint256)":"49cacd89","getRankingStats()":"442a8ce8","getTotalRankers()":"2ca37bee","groupId()":"a0f44c92","nullifierRankings(uint256,uint256)":"7ac13aeb","rankers(uint256)":"0790a627","updateRanking(address,uint256,uint256,uint256[8],(uint256,bool)[])":"6a53c3c0","worldId()":"753e9ef0"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.27+commit.40a35a09\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IWorldID\",\"name\":\"_worldId\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"_appId\",\"type\":\"string\"},{\"internalType\":\"string\",\"name\":\"_action\",\"type\":\"string\"},{\"internalType\":\"contract IElectionManager\",\"name\":\"_electionManager\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"InvalidNullifier\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"candidateId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"tiedWithPrevious\",\"type\":\"bool\"}],\"indexed\":false,\"internalType\":\"struct PeerRanking.RankingEntry[]\",\"name\":\"newRanking\",\"type\":\"tuple[]\"}],\"name\":\"RankingUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_RANK\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"electionManager\",\"outputs\":[{\"internalType\":\"contract IElectionManager\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"externalNullifierHash\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllRankers\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"nullifierHash\",\"type\":\"uint256\"}],\"name\":\"getNullifierRanking\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"candidateId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"tiedWithPrevious\",\"type\":\"bool\"}],\"internalType\":\"struct PeerRanking.RankingEntry[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getRankingStats\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalRankers\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalComparisons\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"candidateCount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalRankers\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"groupId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"nullifierRankings\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"candidateId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"tiedWithPrevious\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"rankers\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"signal\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"root\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nullifierHash\",\"type\":\"uint256\"},{\"internalType\":\"uint256[8]\",\"name\":\"proof\",\"type\":\"uint256[8]\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"candidateId\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"tiedWithPrevious\",\"type\":\"bool\"}],\"internalType\":\"struct PeerRanking.RankingEntry[]\",\"name\":\"newRanking\",\"type\":\"tuple[]\"}],\"name\":\"updateRanking\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"worldId\",\"outputs\":[{\"internalType\":\"contract IWorldID\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"constructor\":{\"params\":{\"_action\":\"The World ID Action (from Developer Portal)\",\"_appId\":\"The World ID App ID (from Developer Portal)\",\"_electionManager\":\"The election manager contract\",\"_worldId\":\"The address of the WorldIDRouter that will verify the proofs\"}},\"updateRanking(address,uint256,uint256,uint256[8],(uint256,bool)[])\":{\"details\":\"Update user's ranking with World ID ZK proof verification\",\"params\":{\"newRanking\":\"Array of RankingEntry structs with tie information\",\"nullifierHash\":\"The nullifier hash for this proof, preventing double signaling (returned by the IDKit widget)\",\"proof\":\"The zero-knowledge proof that demonstrates the claimer is registered with World ID (returned by the IDKit widget)\",\"root\":\"The root (returned by the IDKit widget)\",\"signal\":\"The user's wallet address (cannot be tampered with)\"}}},\"stateVariables\":{\"externalNullifierHash\":{\"details\":\"The keccak256 hash of the externalNullifier (unique identifier of the action performed), combination of appId and action\"},\"groupId\":{\"details\":\"The World ID group ID (1 for Orb-verified)\"},\"nullifierHashes\":{\"details\":\"Whether a nullifier hash has been used already. Used to guarantee an action is only performed once by a single person\"},\"worldId\":{\"details\":\"The address of the World ID Router contract that will be used for verifying proofs\"}},\"version\":1},\"userdoc\":{\"errors\":{\"InvalidNullifier()\":[{\"notice\":\"Thrown when attempting to reuse a nullifier\"}]},\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/PeerRanking.sol\":\"PeerRanking\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@worldcoin/world-id-contracts/=node_modules/@worldcoin/world-id-contracts/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"contracts/ElectionManager.sol\":{\"keccak256\":\"0xd81f2263be4044245bc24fabbcfd5ac919872df3242f03b9c1ff90b0e1b7b475\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://68ffd47e3702e5cbdce85143e5bc4b59b82366803388fd69402489b0661fea70\",\"dweb:/ipfs/Qmd42xBkVJoEBuQwz5oGpeHCSRE6W7oa3bTkJCkkoz2yKf\"]},\"contracts/PeerRanking.sol\":{\"keccak256\":\"0x90be9d37cc7a0df4bc6a79eeaab975df6f91bf69dbea2263d9d7084c3f91998f\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://1434b787f6d3bae5d9326aa4086e4139ffb4a4309acbc9e528936083f3c5b7d9\",\"dweb:/ipfs/QmZky7vhT6AGmSUQE44j8LatPemzogcW8Ts9mHKuk5LFRX\"]},\"node_modules/@worldcoin/world-id-contracts/src/interfaces/IWorldID.sol\":{\"keccak256\":\"0x20fc12dea0b817fb8b7bc1a851082676ed2dcb844d3673d60aa5570da3e1b62e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9c61c47f91672804ea144263ab5c2cf42278a29299d5f690d67bfe175e017fc0\",\"dweb:/ipfs/QmZsDPvxVwZdzu3QcuzaCZMn7Kn2nGgzBHeCmH2v6aAJTS\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.27+commit.40a35a09"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IWorldID","name":"_worldId","type":"address"},{"internalType":"string","name":"_appId","type":"string"},{"internalType":"string","name":"_action","type":"string"},{"internalType":"contract IElectionManager","name":"_electionManager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"type":"error","name":"InvalidNullifier"},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"struct PeerRanking.RankingEntry[]","name":"newRanking","type":"tuple[]","components":[{"internalType":"uint256","name":"candidateId","type":"uint256"},{"internalType":"bool","name":"tiedWithPrevious","type":"bool"}],"indexed":false}],"type":"event","name":"RankingUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_RANK","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"electionManager","outputs":[{"internalType":"contract IElectionManager","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"externalNullifierHash","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getAllRankers","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}]},{"inputs":[{"internalType":"uint256","name":"nullifierHash","type":"uint256"}],"stateMutability":"view","type":"function","name":"getNullifierRanking","outputs":[{"internalType":"struct PeerRanking.RankingEntry[]","name":"","type":"tuple[]","components":[{"internalType":"uint256","name":"candidateId","type":"uint256"},{"internalType":"bool","name":"tiedWithPrevious","type":"bool"}]}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getRankingStats","outputs":[{"internalType":"uint256","name":"totalRankers","type":"uint256"},{"internalType":"uint256","name":"totalComparisons","type":"uint256"},{"internalType":"uint256","name":"candidateCount","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getTotalRankers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"groupId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"nullifierRankings","outputs":[{"internalType":"uint256","name":"candidateId","type":"uint256"},{"internalType":"bool","name":"tiedWithPrevious","type":"bool"}]},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","name":"rankers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"signal","type":"address"},{"internalType":"uint256","name":"root","type":"uint256"},{"internalType":"uint256","name":"nullifierHash","type":"uint256"},{"internalType":"uint256[8]","name":"proof","type":"uint256[8]"},{"internalType":"struct PeerRanking.RankingEntry[]","name":"newRanking","type":"tuple[]","components":[{"internalType":"uint256","name":"candidateId","type":"uint256"},{"internalType":"bool","name":"tiedWithPrevious","type":"bool"}]}],"stateMutability":"nonpayable","type":"function","name":"updateRanking"},{"inputs":[],"stateMutability":"view","type":"function","name":"worldId","outputs":[{"internalType":"contract IWorldID","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"constructor":{"params":{"_action":"The World ID Action (from Developer Portal)","_appId":"The World ID App ID (from Developer Portal)","_electionManager":"The election manager contract","_worldId":"The address of the WorldIDRouter that will verify the proofs"}},"updateRanking(address,uint256,uint256,uint256[8],(uint256,bool)[])":{"details":"Update user's ranking with World ID ZK proof verification","params":{"newRanking":"Array of RankingEntry structs with tie information","nullifierHash":"The nullifier hash for this proof, preventing double signaling (returned by the IDKit widget)","proof":"The zero-knowledge proof that demonstrates the claimer is registered with World ID (returned by the IDKit widget)","root":"The root (returned by the IDKit widget)","signal":"The user's wallet address (cannot be tampered with)"}}},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@worldcoin/world-id-contracts/=node_modules/@worldcoin/world-id-contracts/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/PeerRanking.sol":"PeerRanking"},"evmVersion":"cancun","libraries":{}},"sources":{"contracts/ElectionManager.sol":{"keccak256":"0xd81f2263be4044245bc24fabbcfd5ac919872df3242f03b9c1ff90b0e1b7b475","urls":["bzz-raw://68ffd47e3702e5cbdce85143e5bc4b59b82366803388fd69402489b0661fea70","dweb:/ipfs/Qmd42xBkVJoEBuQwz5oGpeHCSRE6W7oa3bTkJCkkoz2yKf"],"license":"UNLICENSED"},"contracts/PeerRanking.sol":{"keccak256":"0x90be9d37cc7a0df4bc6a79eeaab975df6f91bf69dbea2263d9d7084c3f91998f","urls":["bzz-raw://1434b787f6d3bae5d9326aa4086e4139ffb4a4309acbc9e528936083f3c5b7d9","dweb:/ipfs/QmZky7vhT6AGmSUQE44j8LatPemzogcW8Ts9mHKuk5LFRX"],"license":"UNLICENSED"},"node_modules/@worldcoin/world-id-contracts/src/interfaces/IWorldID.sol":{"keccak256":"0x20fc12dea0b817fb8b7bc1a851082676ed2dcb844d3673d60aa5570da3e1b62e","urls":["bzz-raw://9c61c47f91672804ea144263ab5c2cf42278a29299d5f690d67bfe175e017fc0","dweb:/ipfs/QmZsDPvxVwZdzu3QcuzaCZMn7Kn2nGgzBHeCmH2v6aAJTS"],"license":"MIT"}},"version":1},"id":3}